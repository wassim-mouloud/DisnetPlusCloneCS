{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport httpClient from \"../httpClient\";\nfunction useAuth() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const checkUser = async () => {\n      try {\n        const resp = await httpClient.get(\"/api/auth/@me\", {\n          withCredentials: true\n        });\n        if (resp.status === 200) {\n          setUser(resp.data);\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        setUser(null);\n      }\n      setIsLoading(false);\n    };\n    checkUser();\n  }, []);\n  return {\n    user,\n    isLoading\n  };\n}\n_s(useAuth, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\nexport default useAuth;","map":{"version":3,"names":["React","useState","useEffect","httpClient","useAuth","_s","user","setUser","isLoading","setIsLoading","checkUser","resp","get","withCredentials","status","data","error"],"sources":["/Users/wassimmouloud/coding_projects/DIsneyPlusCS/client/src/hooks/useAuth.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport httpClient from \"../httpClient\";\n\nfunction useAuth() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const checkUser = async () => {\n      try {\n        const resp = await httpClient.get(\"/api/auth/@me\", {\n          withCredentials: true,\n        });\n        if (resp.status === 200) {\n          setUser(resp.data);\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        setUser(null);\n      }\n      setIsLoading(false);\n    };\n\n    checkUser();\n  }, []);\n\n  return { user, isLoading };\n}\n\nexport default useAuth;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,eAAe;AAEtC,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACd,MAAMQ,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,IAAI,GAAG,MAAMR,UAAU,CAACS,GAAG,CAAC,eAAe,EAAE;UACjDC,eAAe,EAAE;QACnB,CAAC,CAAC;QACF,IAAIF,IAAI,CAACG,MAAM,KAAK,GAAG,EAAE;UACvBP,OAAO,CAACI,IAAI,CAACI,IAAI,CAAC;QACpB,CAAC,MAAM;UACLR,OAAO,CAAC,IAAI,CAAC;QACf;MACF,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdT,OAAO,CAAC,IAAI,CAAC;MACf;MACAE,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IAEDC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEJ,IAAI;IAAEE;EAAU,CAAC;AAC5B;AAACH,EAAA,CAzBQD,OAAO;AA2BhB,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}